<!DOCTYPE html>
<html>
<head>
  <title>PRStar Sesli Sohbet</title>
  <script src="https://cdn.zegocloud.com/prebuilt/uikit/zego-uikit-prebuilt.js"></script>
  <style>
    #joinBtn { padding: 10px 20px; font-size: 18px; cursor: pointer; }
    #root { width: 100%; height: 500px; margin-top: 20px; display: none; }
  </style>
</head>
<body>

<button id="joinBtn">Sohbete Katıl</button>
<div id="root"></div>

<script>
  const appID = 1579332572;
  const serverSecret = "e024e9b134983f4d96dd18848d9389c2";

  // Token oluştur
  function generateToken(appID, serverSecret, roomID, userID) {
    return window.ZegoUIKitPrebuilt.generateKitTokenForTest(appID, serverSecret, roomID, userID, Date.now().toString());
  }

  document.getElementById("joinBtn").addEventListener("click", function () {
    const roomID = "PRStarSohbet";
    const userID = "Misafir_" + Math.floor(Math.random() * 10000);
    const userName = userID;
    const token = generateToken(appID, serverSecret, roomID, userID);

    const zp = ZegoUIKitPrebuilt.create(token);
    zp.joinRoom({
      container: document.querySelector("#root"),
      scenario: {
        mode: ZegoUIKitPrebuilt.GroupCall, // Sesli grup
      },
      showScreenSharingButton: false,
      showCameraToggleButton: false,
      showVideoResolutionButton: false,
      showLayoutButton: false,
      showAudioVideoSettingsButton: false,
      showLeavingView: false,
      turnOnCameraWhenJoining: false,
      turnOnMicrophoneWhenJoining: true,
      showMyCameraToggleButton: false,
      showPreJoinView: false
    });

    document.getElementById("joinBtn").style.display = "none";
    document.getElementById("root").style.display = "block";
  });
</script>

</body>
</html>
